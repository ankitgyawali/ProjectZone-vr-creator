<!DOCTYPE HTML>
<html>
<head>
    <title>Zone</title>
    <meta name="description" content="Google VR Creator">
    <meta name="keywords" content="Google VR, Virtual Reality,VR,vr,google cardboard,VR creator,create vr">
        <meta name="author" content="Ankit Gyawali">
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
   <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <script src="http://code.jquery.com/ui/1.11.4/jquery-ui.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/spectrum/1.8.0/spectrum.min.js"></script>
<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/spectrum/1.8.0/spectrum.min.css">

    <!--[if lt IE 9]>
        <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <link href="css/style.css" rel="stylesheet" type="text/css" />
    <meta name="viewport" content="width=device-width"> 
   
    <script>
        $(document).ready( function() {
            //alert('hover');
                   
            $('.object').click(function() {
                
                var whichCategory = $(this).parent();
                var copy=$(this).clone();
                 _currentFill = "fill:#FFFDF1";
                //$(this).css("position","absolute");
                //$(this).css("z-index","100");

                copy.css("position" , "absolute");
                copy.addClass('draggable');
                copy.addClass('grab');
     
                $('.workspace').append(copy);
                $('.draggable').draggable({containment: ".workspace", scroll: false });

                $(".grab").on("dblclick", function(){
                    $(this).remove();
                });
                
                 $(".grab svg circle").on("click", function(){
                   // alert("click");
                   console.log("filled");
                    $(this).addClass('filled');
                   $(this).attr('style', _currentFill); 
                });

                 $(".grab svg path").on("click", function(){
                   // alert("click");
                   $(this).attr('style', _currentFill); 
                });
 
                $(".grab svg polygon").on("click", function(){
                   // alert("click");
                   $(this).attr('style', _currentFill); 
                });
                
                $(".grab svg rect").on("click", function(){
                   // alert("click");
                   $(this).attr('style', _currentFill); 
                });
                
                $(".grab svg polygon").on("click", function(){
                   // alert("click");
                   $(this).attr('style', _currentFill); 
                });
                
            });
        });        
    </script>
   <script type="text/javascript">
var y = document.getElementById("firstTest");
console.log(y);

   </script>
</head>

<body ng-controller="">
    
    <div class="viewport">
    
        <div class="toolbar">
            
            <div id="logo">
                <a href="index.html"><img src="images/LOGO.svg"></a>
            </div>
            
            <div id="shapes">
                
                <div class="object" id="smallcube" >
                    <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 600 600" enable-background="new 0 0 600 600" xml:space="preserve">
                        <rect fill="#FFFEF5" width="600" height="600"/>
                    </svg>
                </div>
                
                <div class="object" id="mediumcube">
                    <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 600 600" enable-background="new 0 0 600 600" xml:space="preserve">
                        <rect fill="#FFFEF5" width="600" height="600"/>
                    </svg>
                </div>
                
                <div class="object" id="largecube">
                    <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 600 600" enable-background="new 0 0 600 600" xml:space="preserve">
                        <rect fill="#FFFEF5" width="600" height="600"/>
                    </svg>
                </div>
                
                <div class="object" id="smallsphere">
                    <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 600 600" enable-background="new 0 0 600 600" xml:space="preserve">
                        <circle fill="#FFFEF5" cx="300" cy="300" r="300"/>
                    </svg>
                </div>
                
                <div class="object" id="mediumsphere">
                    <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 600 600" enable-background="new 0 0 600 600" xml:space="preserve">
                        <circle fill="#FFFEF5" cx="300" cy="300" r="300"/>
                    </svg>
                </div>
                
                <div class="object" id="largesphere">
                    <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 600 600" enable-background="new 0 0 600 600" xml:space="preserve">
                        <circle fill="#FFFEF5" cx="300" cy="300" r="300"/>
                    </svg>
                </div>
                
                <div class="object" id="smallpyramid">
                    <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 600 600" enable-background="new 0 0 600 600" xml:space="preserve">
                        <polygon fill="#FFFEF5" points="3.9,550.4 300,37.6 596.1,550.4 "/>
                    </svg>
                </div>
                
                <div class="object" id="mediumpyramid">
                    <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 600 600" enable-background="new 0 0 600 600" xml:space="preserve">
                        <polygon fill="#FFFEF5" points="3.9,550.4 300,37.6 596.1,550.4 "/>
                    </svg>
                </div>
                
                <div class="object" id="largepyramid">
                    <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 600 600" enable-background="new 0 0 600 600" xml:space="preserve">
                        <polygon fill="#FFFEF5" points="3.9,550.4 300,37.6 596.1,550.4 "/>
                    </svg>
                </div>
                
                <div class="object" id="smallprism">
                    <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
     viewBox="0 0 151.5 175" enable-background="new 0 0 151.5 175" xml:space="preserve">
<path fill="#FFFEF2 " d="M109.5,92.6c-4.5-0.3-8.8,0.3-12.8,1.7c-1.1-7.7-4.2-14.7-8.7-20.6c6.7-6.5,11-15.5,11.6-25.5
    c1.3-21.5-15.2-40-36.7-41.2s-40,15.2-41.2,36.7c-0.5,7.9,1.5,15.4,5.2,21.7C16.8,72.8,10,84.4,9.2,97.9
    c-1.4,24.2,17.1,45.1,41.3,46.5c8.7,0.5,17-1.6,24.1-5.6c4.5,12.8,16.4,22.3,30.8,23.2c19.1,1.1,35.6-13.5,36.7-32.7
    S128.6,93.7,109.5,92.6z M61.2,34.8c6.1,0.4,10.7,5.6,10.3,11.6S66,57.1,59.9,56.8c-6.1-0.4-10.7-5.6-10.3-11.6S55.2,34.5,61.2,34.8
    z M52.2,116.4c-8.8-0.5-15.5-8.1-15-16.9s8.1-15.5,16.9-15s15.5,8.1,15,16.9C68.6,110.2,61,116.9,52.2,116.4z M107,134
    c-3.7-0.2-6.6-3.4-6.3-7.1c0.2-3.7,3.4-6.6,7.1-6.3c3.7,0.2,6.6,3.4,6.3,7.1C114,131.4,110.8,134.2,107,134z"/>
</svg>
                </div>
                
                <div class="object" id="mediumprism">
                    <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
     viewBox="0 0 151.5 175" enable-background="new 0 0 151.5 175" xml:space="preserve">
<path fill="#FFFEF2 " d="M109.5,92.6c-4.5-0.3-8.8,0.3-12.8,1.7c-1.1-7.7-4.2-14.7-8.7-20.6c6.7-6.5,11-15.5,11.6-25.5
    c1.3-21.5-15.2-40-36.7-41.2s-40,15.2-41.2,36.7c-0.5,7.9,1.5,15.4,5.2,21.7C16.8,72.8,10,84.4,9.2,97.9
    c-1.4,24.2,17.1,45.1,41.3,46.5c8.7,0.5,17-1.6,24.1-5.6c4.5,12.8,16.4,22.3,30.8,23.2c19.1,1.1,35.6-13.5,36.7-32.7
    S128.6,93.7,109.5,92.6z M61.2,34.8c6.1,0.4,10.7,5.6,10.3,11.6S66,57.1,59.9,56.8c-6.1-0.4-10.7-5.6-10.3-11.6S55.2,34.5,61.2,34.8
    z M52.2,116.4c-8.8-0.5-15.5-8.1-15-16.9s8.1-15.5,16.9-15s15.5,8.1,15,16.9C68.6,110.2,61,116.9,52.2,116.4z M107,134
    c-3.7-0.2-6.6-3.4-6.3-7.1c0.2-3.7,3.4-6.6,7.1-6.3c3.7,0.2,6.6,3.4,6.3,7.1C114,131.4,110.8,134.2,107,134z"/>
</svg>
                </div>
                
                <div class="object" id="largeprism">
                    <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
     viewBox="0 0 151.5 175" enable-background="new 0 0 151.5 175" xml:space="preserve">
<path fill="#FFFEF2 " d="M109.5,92.6c-4.5-0.3-8.8,0.3-12.8,1.7c-1.1-7.7-4.2-14.7-8.7-20.6c6.7-6.5,11-15.5,11.6-25.5
    c1.3-21.5-15.2-40-36.7-41.2s-40,15.2-41.2,36.7c-0.5,7.9,1.5,15.4,5.2,21.7C16.8,72.8,10,84.4,9.2,97.9
    c-1.4,24.2,17.1,45.1,41.3,46.5c8.7,0.5,17-1.6,24.1-5.6c4.5,12.8,16.4,22.3,30.8,23.2c19.1,1.1,35.6-13.5,36.7-32.7
    S128.6,93.7,109.5,92.6z M61.2,34.8c6.1,0.4,10.7,5.6,10.3,11.6S66,57.1,59.9,56.8c-6.1-0.4-10.7-5.6-10.3-11.6S55.2,34.5,61.2,34.8
    z M52.2,116.4c-8.8-0.5-15.5-8.1-15-16.9s8.1-15.5,16.9-15s15.5,8.1,15,16.9C68.6,110.2,61,116.9,52.2,116.4z M107,134
    c-3.7-0.2-6.6-3.4-6.3-7.1c0.2-3.7,3.4-6.6,7.1-6.3c3.7,0.2,6.6,3.4,6.3,7.1C114,131.4,110.8,134.2,107,134z"/>
</svg>
                </div>
                
<!--            <div class="object" id="smallcone">
                    <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 600 600" enable-background="new 0 0 600 600" xml:space="preserve">
                        <path fill="#FFFEF5" d="M585.3,505.3L299.1,9.1L12.8,505.3c0,47.1,129,85.7,287.2,85.7s287.2-38.6,287.2-85.7H585.3z"/>
                    </svg>
                </div>
                
                <div class="object" id="mediumcone">
                    <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 600 600" enable-background="new 0 0 600 600" xml:space="preserve">
                        <path fill="#FFFEF5" d="M585.3,505.3L299.1,9.1L12.8,505.3c0,47.1,129,85.7,287.2,85.7s287.2-38.6,287.2-85.7H585.3z"/>
                    </svg>
                </div>
                
                <div class="object" id="largecone">
                    <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 600 600" style="enable-background":new 0 0 600 600; xml:space="preserve">
                        <path fill="#FFFEF5" d="M585.3,505.3L299.1,9.1L12.8,505.3c0,47.1,129,85.7,287.2,85.7s287.2-38.6,287.2-85.7H585.3z"/>
                    </svg>
                </div>
                
                <div class="object" id="smalldodecahedron">
                    <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 600 600" enable-background="new 0 0 600 600" xml:space="preserve">
                        <polygon fill="#FFFEF5" points="114.1,584.1 0,232.9 298.8,15.9 597.5,232.9 483.4,584.1 "/>
                    </svg>
                </div>
                
                <div class="object" id="mediumdodecahedron">
                    <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 600 600" enable-background="new 0 0 600 600" xml:space="preserve">
                        <polygon fill="#FFFEF5" points="114.1,584.1 0,232.9 298.8,15.9 597.5,232.9 483.4,584.1 "/>
                    </svg>
                </div>
                
                <div class="object" id="largedodecahedron">
                    <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 600 600" enable-background="new 0 0 600 600" xml:space="preserve">
                        <polygon fill="#FFFEF5" points="114.1,584.1 0,232.9 298.8,15.9 597.5,232.9 483.4,584.1 "/>
                    </svg>
                </div>
-->

            </div>
            
<!--            <div id="colors">-->
            
                <svg id="colors" viewBox="-3.5 0 60 100">
                    
                    <rect style="fill:#6EBE44" x="0"  y="0" width="16" height="9"/>
                    
                    <rect style="fill:#A5CE46" x="18" y="0" width="16" height="9"/>
                    
                    <rect style="fill:#F7EE60" x="36"  y="0" width="16" height="9"/>
                    
                    <rect style="fill:#009050" x="0"  y="11" width="16" height="9"/>
                    
                    <rect style="fill:#908F53" x="18" y="11" width="16" height="9"/>
                    
                    <rect style="fill:#F68F5A" x="36"  y="11" width="16" height="9"/>
                    
                    <rect style="fill:#014B50" x="0"  y="22" width="16" height="9"/>
                    
                    <rect style="fill:#914955" x="18" y="22" width="16" height="9"/>
                    
                    <rect style="fill:#EF4C58" x="36"  y="22" width="16" height="9"/>
                    
                    <rect style="fill:#191750" x="0"  y="33" width="16" height="9"/>
                    
                    <rect style="fill:#651B57" x="18" y="33" width="16" height="9"/>
                    
                    <rect style="fill:#ED1A59" x="36"  y="33" width="16" height="9"/>
                    
                    <rect style="fill:#2B328F" x="0"  y="44" width="16" height="9"/>
                    
                    <rect style="fill:#8E2B90" x="18" y="44" width="16" height="9"/>
                    
                    <rect style="fill:#E63894" x="36"  y="44" width="16" height="9"/>
                    
                    <rect style="fill:#066BA9" x="0"  y="55" width="16" height="9"/>
                    
                    <rect style="fill:#6D6FAA" x="18" y="55" width="16" height="9"/>
                    
                    <rect style="fill:#EE519C" x="36"  y="55" width="16" height="9"/>
                    
                    <rect style="fill:#00AFAB" x="0"  y="66" width="16" height="9"/>
                    
                    <rect style="fill:#9AB0AD" x="18" y="66" width="16" height="9"/>
                    
                    <rect style="fill:#F9B6A3" x="36"  y="66" width="16" height="9"/>
                    
                    <rect style="fill:#6CC395" x="0"  y="77" width="16" height="9"/>
                    
                    <rect style="fill:#A0D299" x="18" y="77" width="16" height="9"/>
                    
                    <rect style="fill:#F7F3A9" x="36"  y="77" width="16" height="9"/>
                    
                    <rect id="selection" style="stroke:#FFFDF1; stroke-opacity: 1;fill:none" x="0" y="0" width="16" height="9"/>
                
                </svg>
            
            <div id="light">
                <div id="alllights">
                    
                </div>
                
                <input type='text'  value="#FFFFFF" id="lightpicker" />

                <script type="text/javascript">
                    
                    $("#lightpicker").spectrum({
                        preferredFormat: "hex",
                        color: "#fff"
                    });
                </script>
                
                
            </div>
            
            <div class="buttons">
                
                <div class="button" id="shapeButton">
                     <a href="#shapes"><h2>SHAPE</h2></a>
                </div>
                
                <div class="button" id="colorButton">
                    <a href="#colors"><h2>COLOR</h2></a>
                </div>
                
                <div class="button" id="lightButton">
                     <a href="#lights"><h2>LIGHT</h2></a>
                </div>
                
                <div class="button" id="wallButton">
                     <a href="#ankit"><h2>WALLS</h2></a>
                </div>
                
                
                <script>
                     $("#ankit").hide();
                     $("#shapeButton").click(function () {
                         $("#colors").hide();
                         $("#light").hide();
                          $("#ankit").hide();
                         $("#shapes").show();
                         $("#colorInstruct").hide();
                         $("#lightInstruct").hide();
                          $("#wallInstruct").hide();
                         $("#shapeInstruct").show();
                        // e.stopPropagation();
                     });
                     
                     $("#colorButton").click(function () {
                         $("#shapes").hide();
                         $("#light").hide();
                          $("#ankit").hide();
                         $("#colors").show();
                         $("#shapeInstruct").hide();
                         $("#lightInstruct").hide();
                           $("#wallInstruct").hide();
                         $("#colorInstruct").show();
                         
                        // e.stopPropagation();
                    });
                     
                    $("#lightButton").click(function () {
                        $("#shapes").hide();
                        $("#colors").hide();
                        $("#wankit").hide();
                        $("#light").show();
                        $("#shapeInstruct").hide();
                          $("#wallInstruct").hide();
                         $("#colorInstruct").hide();
                         $("#lightInstruct").show();
                        //e.stopPropagation();
                    }); 
                    
                       $("#wallButton").click(function () {
                        $("#shapes").hide();
                        $("#colors").hide();
                        $("#light").hide();
                        $("#ankit").show();
                        $("#shapeInstruct").hide();
                         $("#colorInstruct").hide();
                         $("#lightInstruct").hide();
                             $("#wallInstruct").show();
                        //e.stopPropagation();
                    }); 
                    
                    
                </script>
                
            </div>
            
        </div>
        
        <div id="buildViewport">
        
            <div class="workspace">
                
                <script>
                    var _currentFill = "fill:#FFFDF1";
                    $(".object").click(function (event) { $(event.target).attr('style', _currentFill); 
                    $(event.target).attr('style', "fill:#FFFDF1");
                                                        })
                    var $swatches = $("#colors");
                    $swatches.click(function (event) { 
                        $swatch = $(event.target);
                        loc = [parseInt($swatch.attr('x'), 10),
                               parseInt($swatch.attr('y'), 10)]
                        $("#selection", $swatches).attr('x', loc[0]);
                        $("#selection", $swatches).attr('y', loc[1]);
                        _currentFill = $swatch.attr('style'); ; 
                        
                        //alert(_currentFill);
                    })
                </script>
                
            </div>
        
        </div>
        
        <div class="instructions">
            
                <div class="miscInstruct" id="shapeInstruct">
                    <h2>INSTRUCTIONS:</h2><br>
                    <p>Click on a shape to add it to your Zone.</p>
                    <br>
                    <p>Click and drag your shapes to move them around your Zone.</p>
                    <br>
                    <p>Double-click to remove undesired shapes from your Zone.</p>
                </div>
                
                <div class="miscInstruct" id="colorInstruct">
                    <h2>INSTRUCTIONS:</h2><br>
                    <p>Click on a color swatch to select it.</p>
                    <br>
                    <p>Click on shapes in your Zone to apply the color to them.</p>
                    <br>
                    <p>REMEMBER: Once a color is selected, it will be applied to every shape you touch, even when the shape is dragged.</p>    
                </div>
                
                <div class="miscInstruct" id="lightInstruct">
                    <h2>INSTRUCTIONS:</h2><br>
                    <p>Use the color picker to change the lighting in the zone.</p> 
                    
                </div>
            
               <div class="miscInstruct" id="wallInstruct">
                    <h2>INSTRUCTIONS:</h2><br>
                    <p>Go thought the lists and select how you want the walls to look. <br> Then save your zone!</p>
                    
                </div>
            
            
            
            
            
                <div id="ankit" class="miscInstruct">

                Wall1:  
                <select id="wall1">
                    <option>black-tile.png</option>    
                    <option>brick.png</option>    
                    <option>checker.png</option>    
                    <option>dark-water.png</option>    
                    <option>grassy.png</option>    
                    <option>gravel.png</option>    
                    <option>stone.png</option>    
                </select><br>
                    
                Wall2: 
                  <select id="wall2">
                    <option>black-tile.png</option>    
                    <option>brick.png</option>    
                    <option>checker.png</option>    
                    <option>dark-water.png</option>    
                    <option>grassy.png</option>    
                    <option>gravel.png</option>    
                    <option>stone.png</option>    
                </select>

                 <br>
                Wall3: 
                  <select id="wall3">
                    <option>black-tile.png</option>    
                    <option>brick.png</option>    
                    <option>checker.png</option>    
                    <option>dark-water.png</option>    
                    <option>grassy.png</option>    
                    <option>gravel.png</option>    
                    <option>stone.png</option>    
                </select>

                <br>
                Wall4 : 

                  <select id="wall4">
                    <option>black-tile.png</option>    
                    <option>brick.png</option>    
                    <option>checker.png</option>    
                    <option>dark-water.png</option>    
                    <option>grassy.png</option>    
                    <option>gravel.png</option>    
                    <option>stone.png</option>    
                </select>

                <br>
                Ceiling: 
                  <select id="ceiling">
                    <option>black-tile.png</option>    
                    <option selected>brick.png</option>    
                    <option>checker.png</option>    
                    <option>dark-water.png</option>    
                    <option>grassy.png</option>    
                    <option>gravel.png</option>    
                    <option>stone.png</option>    
                </select>
                <br>

                     Floor: 
                  <select id="floor">
                    <option>black-tile.png</option>    
                    <option>brick.png</option>    
                    <option>checker.png</option>    
                    <option>dark-water.png</option>    
                    <option>grassy.png</option>    
                    <option>gravel.png</option>    
                    <option selected>stone.png</option>    
                </select>
                <br>
            Room Size: 
                  <select id="roomsize">
                    <option>Small</option>    
                    <option selected>Medium</option>    
                    <option>Large</option>    
 
                </select>
                <br>
                Animate Room:
                 <select id="animateOrNot">
                    <option value="false" selected>No</option>    
                    <option value="true">Yes</option>    
                 </select>
                <br>
                Enforce Gravity:
                        <select id="enforceGravity">
                    <option value="true" selected>Yes</option>    
                    <option value="false">No</option>    
                 </select>
 
                <br>
                <script type="text/javascript">
                    function savetoDB(){
                        var mainJSON = {
                            roomobject: []
                        };
                        

                        var workelem = document.getElementsByClassName('workspace');
                        var arr = [].slice.call(workelem);
     
                        if(arr[0].children.length==1){
                            mainJSON.emptyRoom = true;
                        }
                        else{
                            mainJSON.emptyRoom = false;
                     
                            var x=0;
                            var y = 0;
                            for(i=1;i<arr[0].children.length;i++){
                                //var newObj = {};
                    
                                if(arr[0].children[i].style.top)
                                {
                                x = parseInt(arr[0].children[i].style.top, 10);
                                y = parseInt(arr[0].children[i].style.left, 10);
                                }
                                

                                
                                    mainJSON.roomobject.push({
                                    x: x,
                                    y: y,
                                    color: arr[0].children[i].firstElementChild.innerHTML.split(":#").pop().substring(0,6),
                                    type:arr[0].children[i].id
                                    });


                            }
               
                        }

                        mainJSON.roomColor = $('#lightpicker').val();

                         mainJSON.wall1 = $('#wall1').val();
                          mainJSON.wall2 = $('#wall2').val();
                           mainJSON.wall3 = $('#wall3').val();
                            mainJSON.wall4 = $('#wall4').val();
                              mainJSON.ceiling = $('#ceiling').val();
                                 mainJSON.floor = $('#floor').val();
                                 mainJSON.roomSize = $('#roomsize').val();
                                      mainJSON.animateOrNot = $('#animateOrNot').val();
                                    mainJSON.enforceGravity = $('#enforceGravity').val();

                    $.ajax({
                    url : "/save",
                    type: "POST",
                    data: JSON.stringify(mainJSON),
                     contentType: "application/json",
                    success: function(data, textStatus, jqXHR)
                    {
                    //console.log(mainJSON);
                    var QRlocation  = "save.html?worldID=" + data;
                    window.location.replace(QRlocation);
                    
                    },
                    error: function (jqXHR, textStatus, errorThrown)
                    {
                        console.log("An error occured");
                    }
                    });
              

                    }

                </script>
                    
    <button id ="savebutton" onClick="savetoDB();"> SAVE ZONE! </button>

                  

                
                </div>
            
                
                
            </div>
        
    </div>

</body>
    
    

</html>